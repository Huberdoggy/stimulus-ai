<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Stimulus AI — Adapter Card</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Theme CSS -->
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

  <div id="processingOverlay" class="processing-overlay" aria-hidden="true">
    <div class="processing-box">
      <img src="/static/assets/stimulate_4s_progression.gif" alt="Processing…" />
      <div id="processingLabel" class="processing-label">Processing…</div>
    </div>
  </div>

  <div id="intro" class="intro">
    <img src="/static/assets/mcburney.png" alt="McBurney Group mark" id="introImg" class="intro__img">
  </div>

  <div id="app" class="app">
    <header class="hero">
      <div class="container hero__content">
        <h1 class="logo" aria-label="Stimulus dot AI">Stimulus<span class="logo__dot">.</span>AI</h1>
        <p class="tagline">From Job Description to evidence-anchored signals — without the fluff.</p>

        <div class="hero__hud">
          <div id="health" class="badge" aria-live="polite">
            <span class="dot"></span><span>checking…</span>
          </div>
        </div>
      </div>
    </header>

    <main class="container main">
      <section class="form-card" aria-labelledby="jdlabel">
        <label id="jdlabel" for="jd" class="sr-only">Paste Job Description</label>
        <textarea id="jd" rows="12" placeholder="Paste a JD here…"></textarea>

        <div class="controls" role="group" aria-label="Actions">
          <!-- Compile -->
          <button id="compileBtn" class="btn-circle btn-compile" aria-label="Compile" title="Compile">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
          </button>

          <!-- Clear -->
          <button id="clearBtn" class="btn-circle btn-clear" aria-label="Clear" title="Clear">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M18.3 5.71L12 12.01 5.7 5.71 4.29 7.12 10.6 13.4 4.29 19.7 5.7 21.11 12 14.82 18.3 21.11 19.71 19.7 13.42 13.4 19.71 7.12z"/></svg>
          </button>

          <div aria-hidden="true" style="width:1px;height:32px;margin:0 6px;background:linear-gradient(to bottom,rgba(255,255,255,.06),rgba(255,255,255,.14),rgba(255,255,255,.06));border-radius:1px;"></div>

          <!-- Candidate row -->
          <div class="row" style="gap:6px;">
            <input id="cand" type="text" placeholder="candidate" aria-label="Candidate ID"
                   style="height:38px;min-width:120px;max-width:180px;padding:0 10px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:#0d141d;color:#e8edf2;outline:none;"
                   onfocus="this.style.boxShadow='0 0 0 3px rgba(41,211,255,.22)';" onblur="this.style.boxShadow='none';" />
            <select id="candSelect" class="select" title="Pick a candidate"><option value="">— pick candidate —</option></select>
            <button id="loadBtn" class="btn-circle btn-ghost" aria-label="Load artifacts" title="Load artifacts for selected candidate">
              <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M5 20h14v-2H5v2zm7-18L5.33 9h3.84v4h5.66V9h3.84L12 2z"></path></svg>
            </button>
          </div>

          <!-- Hidden file inputs -->
          <input id="resumeFile" type="file" accept=".pdf,.docx,.txt,.md" style="position:absolute;left:-9999px;opacity:0;" />
          <input id="audioFile"  type="file" accept="audio/*"                style="position:absolute;left:-9999px;opacity:0;" />
          <input id="videoFile"  type="file" accept=".mp4,.mov,.m4v,.webm,.mkv" style="position:absolute;left:-9999px;opacity:0;" />

          <!-- Upload buttons -->
          <button id="resumeBtn" class="btn-circle btn-ghost" aria-label="Attach resume" title="Attach resume">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M16 2H8a2 2 0 0 0-2 2v16l6-3 6 3V4a2 2 0 0 0-2-2z"></path></svg>
          </button>
          <button id="audioBtn" class="btn-circle btn-ghost" aria-label="Attach audio" title="Attach audio">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M3 12a9 9 0 0 1 18 0v5a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h1a7 7 0 0 0-14 0h1a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5z"></path></svg>
          </button>
          <button id="videoBtn" class="btn-circle btn-ghost" aria-label="Attach video" title="Attach video">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M17 10.5V7a2 2 0 0 0-2-2H6A2 2 0 0 0 4 7v10a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-3.5l4 4v-11l-4 4z"></path></svg>
          </button>

          <!-- Build Evidence -->
          <button id="evidenceBtn" class="btn-circle btn-compile" aria-label="Build evidence map" title="Build evidence">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79L19 21.49 21.49 19l-5.99-5zM4 9.5C4 6.46 6.46 4 9.5 4S15 6.46 15 9.5 12.54 15 9.5 15 4 12.54 4 9.5z"/></svg>
          </button>

          <span id="artifactsMsg" class="note" aria-live="polite"></span>
        </div>
      </section>

      <section id="result" class="result" style="display:none;">
        <h2 id="role" class="result__role"></h2>
        <div id="company" class="result__company"></div>

        <div id="coverage" class="coverage" style="display:none;">
          <span id="covOverall" class="coverage__overall"></span>
          <div id="covThemes" style="display:flex;gap:8px;flex-wrap:wrap;"></div>
        </div>

        <div id="themes" class="grid"></div>
      </section>
    </main>
  </div>

  <!-- Externalized app logic -->
  <script src="/static/js/app.js"></script>
</body>
</html>
